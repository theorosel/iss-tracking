function excerpt(e){return e=e.trim(),text_length=e.length,text_length>=500?e=e.substring(0,500):e}function get_astronautes(){return new Promise(function(e,t){var r=new XMLHttpRequest;r.open("GET","/api/wikipedia"),r.onload=function(){if(200==r.status){var o=JSON.parse(r.response);e(o),console.log(o)}else t(Error(r.statusText))},r.onerror=function(){t(Error("Network Error"))},r.send()})}var div=60,radius=280,parent=document.querySelector(".team-area"),offsetToParentCenter=parseInt(circle_div.offsetWidth/2),offsetToChildCenter=70,totalOffset=offsetToParentCenter-offsetToChildCenter;document.addEventListener("DOMContentLoaded",function(e){get_astronautes().then(function(e){function t(){document.querySelector("#circle_background").animate([{transform:"rotate(0deg)"},{transform:"rotate(60deg)"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle3").animate([{width:"160px",height:"160px"},{width:"120px",height:"120px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle2").animate([{width:"120px",height:"120px"},{width:"160px",height:"160px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content3").animate([{opacity:1},{opacity:0},{opacity:0}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content2").animate([{opacity:0},{opacity:0},{opacity:1}],{easing:"ease",duration:750,iterations:1});for(var e=0;e<f.length;e++)console.log(f.length),f[e].animate([{transform:"rotate(0deg)"},{transform:"rotate(-60deg)"}],{easing:"ease",duration:750,iterations:1}),f[e].style.transform="rotate(-60deg)";document.querySelector("#circle_background").style.transform="rotate(60deg)",document.querySelector(".content3").style.opacity="0",document.querySelector(".content2").style.opacity="1",document.querySelector(".circle3").style.height="120px",document.querySelector(".circle3").style.width="120px",document.querySelector(".circle2").style.height="160px",document.querySelector(".circle2").style.width="160px",document.querySelector(".count_live").innerHTML="2"}function r(){document.querySelector("#circle_background").animate([{transform:"rotate(60deg)"},{transform:"rotate(120deg)"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle2").animate([{width:"160px",height:"160px"},{width:"120px",height:"120px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle1").animate([{width:"120px",height:"120px"},{width:"160px",height:"160px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content2").animate([{opacity:1},{opacity:0},{opacity:0}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content1").animate([{opacity:0},{opacity:0},{opacity:1}],{easing:"ease",duration:750,iterations:1});for(var e=0;e<f.length;e++)f[e].animate([{transform:"rotate(-60deg)"},{transform:"rotate(-120deg)"}],{easing:"ease",duration:750,iterations:1}),f[e].style.transform="rotate(-120deg)";document.querySelector("#circle_background").style.transform="rotate(120deg)",document.querySelector(".content2").style.opacity="0",document.querySelector(".content1").style.opacity="1",document.querySelector(".circle2").style.height="120px",document.querySelector(".circle2").style.width="120px",document.querySelector(".circle1").style.height="160px",document.querySelector(".circle1").style.width="160px",document.querySelector(".count_live").innerHTML="3"}function o(){document.querySelector("#circle_background").animate([{transform:"rotate(120deg)"},{transform:"rotate(180deg)"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle1").animate([{width:"160px",height:"160px"},{width:"120px",height:"120px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle0").animate([{width:"120px",height:"120px"},{width:"160px",height:"160px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content1").animate([{opacity:1},{opacity:0},{opacity:0}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content0").animate([{opacity:0},{opacity:0},{opacity:1}],{easing:"ease",duration:750,iterations:1});for(var e=0;e<f.length;e++)f[e].animate([{transform:"rotate(-120deg)"},{transform:"rotate(-180deg)"}],{easing:"ease",duration:750,iterations:1}),f[e].style.transform="rotate(-180deg)";document.querySelector("#circle_background").style.transform="rotate(180deg)",document.querySelector(".content1").style.opacity="0",document.querySelector(".content0").style.opacity="1",document.querySelector(".circle1").style.height="120px",document.querySelector(".circle1").style.width="120px",document.querySelector(".circle0").style.height="160px",document.querySelector(".circle0").style.width="160px",document.querySelector(".count_live").innerHTML="4"}function a(){document.querySelector("#circle_background").animate([{transform:"rotate(180deg)"},{transform:"rotate(240deg)"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle0").animate([{width:"160px",height:"160px"},{width:"120px",height:"120px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle5").animate([{width:"120px",height:"120px"},{width:"160px",height:"160px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content0").animate([{opacity:1},{opacity:0},{opacity:0}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content5").animate([{opacity:0},{opacity:0},{opacity:1}],{easing:"ease",duration:750,iterations:1});for(var e=0;e<f.length;e++)f[e].animate([{transform:"rotate(-180deg)"},{transform:"rotate(-240deg)"}],{easing:"ease",duration:750,iterations:1}),f[e].style.transform="rotate(-240deg)";document.querySelector("#circle_background").style.transform="rotate(240deg)",document.querySelector(".content0").style.opacity="0",document.querySelector(".content5").style.opacity="1",document.querySelector(".circle0").style.height="120px",document.querySelector(".circle0").style.width="120px",document.querySelector(".circle5").style.height="160px",document.querySelector(".circle5").style.width="160px",document.querySelector(".count_live").innerHTML="5"}function n(){document.querySelector("#circle_background").animate([{transform:"rotate(240deg)"},{transform:"rotate(300deg)"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle5").animate([{width:"160px",height:"160px"},{width:"120px",height:"120px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle4").animate([{width:"120px",height:"120px"},{width:"160px",height:"160px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content5").animate([{opacity:1},{opacity:0},{opacity:0}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content4").animate([{opacity:0},{opacity:0},{opacity:1}],{easing:"ease",duration:750,iterations:1});for(var e=0;e<f.length;e++)f[e].animate([{transform:"rotate(-240deg)"},{transform:"rotate(-300deg)"}],{easing:"ease",duration:750,iterations:1}),f[e].style.transform="rotate(-300deg)";document.querySelector("#circle_background").style.transform="rotate(300deg)",document.querySelector(".content5").style.opacity="0",document.querySelector(".content4").style.opacity="1",document.querySelector(".circle5").style.height="120px",document.querySelector(".circle5").style.width="120px",document.querySelector(".circle4").style.height="160px",document.querySelector(".circle4").style.width="160px",document.querySelector(".count_live").innerHTML="6"}function i(){document.querySelector("#circle_background").animate([{transform:"rotate(300deg)"},{transform:"rotate(360deg)"}],{easing:"ease",duration:750,iteration:1}),document.querySelector(".circle4").animate([{width:"160px",height:"160px"},{width:"120px",height:"120px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle3").animate([{width:"120px",height:"120px"},{width:"160px",height:"160px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content4").animate([{opacity:1},{opacity:0},{opacity:0}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content3").animate([{opacity:0},{opacity:0},{opacity:1}],{easing:"ease",duration:750,iterations:1});for(var e=0;e<f.length;e++)f[e].animate([{transform:"rotate(-300deg)"},{transform:"rotate(-360deg)"}],{easing:"ease",duration:750,iterations:1}),f[e].style.transform="rotate(-360deg)";document.querySelector("#circle_background").style.transform="rotate(360deg)",document.querySelector(".content4").style.opacity="0",document.querySelector(".content3").style.opacity="1",document.querySelector(".circle4").style.height="120px",document.querySelector(".circle4").style.width="120px",document.querySelector(".circle3").style.height="160px",document.querySelector(".circle3").style.width="160px",document.querySelector(".count_live").innerHTML="1"}function c(){document.querySelector("#circle_background").animate([{transform:"rotate(0deg)"},{transform:"rotate(-60deg)"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle3").animate([{width:"160px",height:"160px"},{width:"120px",height:"120px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle4").animate([{width:"120px",height:"120px"},{width:"160px",height:"160px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content3").animate([{opacity:1},{opacity:0},{opacity:0}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content4").animate([{opacity:0},{opacity:0},{opacity:1}],{easing:"ease",duration:750,iterations:1});for(var e=0;e<f.length;e++)f[e].animate([{transform:"rotate(0deg)"},{transform:"rotate(60deg)"}],{easing:"ease",duration:750,iterations:1}),f[e].style.transform="rotate(60deg)";document.querySelector("#circle_background").style.transform="rotate(-60deg)",document.querySelector(".content3").style.opacity="0",document.querySelector(".content4").style.opacity="1",document.querySelector(".circle3").style.height="120px",document.querySelector(".circle3").style.width="120px",document.querySelector(".circle4").style.height="160px",document.querySelector(".circle4").style.width="160px",document.querySelector(".count_live").innerHTML="6"}function u(){document.querySelector("#circle_background").animate([{transform:"rotate(-60deg)"},{transform:"rotate(-120deg)"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle4").animate([{width:"160px",height:"160px"},{width:"120px",height:"120px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle5").animate([{width:"120px",height:"120px"},{width:"160px",height:"160px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content4").animate([{opacity:1},{opacity:0},{opacity:0}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content5").animate([{opacity:0},{opacity:0},{opacity:1}],{easing:"ease",duration:750,iterations:1});for(var e=0;e<f.length;e++)f[e].animate([{transform:"rotate(60deg)"},{transform:"rotate(120deg)"}],{easing:"ease",duration:750,iterations:1}),f[e].style.transform="rotate(120deg)";document.querySelector("#circle_background").style.transform="rotate(-120deg)",document.querySelector(".content4").style.opacity="0",document.querySelector(".content5").style.opacity="1",document.querySelector(".circle4").style.height="120px",document.querySelector(".circle4").style.width="120px",document.querySelector(".circle5").style.height="160px",document.querySelector(".circle5").style.width="160px",document.querySelector(".count_live").innerHTML="5"}function d(){document.querySelector("#circle_background").animate([{transform:"rotate(-120deg)"},{transform:"rotate(-180deg)"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle5").animate([{width:"160px",height:"160px"},{width:"120px",height:"120px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle0").animate([{width:"120px",height:"120px"},{width:"160px",height:"160px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content5").animate([{opacity:1},{opacity:0},{opacity:0}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content0").animate([{opacity:0},{opacity:0},{opacity:1}],{easing:"ease",duration:750,iterations:1});for(var e=0;e<f.length;e++)f[e].animate([{transform:"rotate(120deg)"},{transform:"rotate(180deg)"}],{easing:"ease",duration:750,iterations:1}),f[e].style.transform="rotate(180deg)";document.querySelector("#circle_background").style.transform="rotate(-180deg)",document.querySelector(".content5").style.opacity="0",document.querySelector(".content0").style.opacity="1",document.querySelector(".circle5").style.height="120px",document.querySelector(".circle5").style.width="120px",document.querySelector(".circle0").style.height="160px",document.querySelector(".circle0").style.width="160px",document.querySelector(".count_live").innerHTML="4"}function l(){document.querySelector("#circle_background").animate([{transform:"rotate(-180deg)"},{transform:"rotate(-240deg)"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle0").animate([{width:"160px",height:"160px"},{width:"120px",height:"120px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle1").animate([{width:"120px",height:"120px"},{width:"160px",height:"160px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content0").animate([{opacity:1},{opacity:0},{opacity:0}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content1").animate([{opacity:0},{opacity:0},{opacity:1}],{easing:"ease",duration:750,iterations:1});for(var e=0;e<f.length;e++)f[e].animate([{transform:"rotate(180deg)"},{transform:"rotate(240deg)"}],{easing:"ease",duration:750,iterations:1}),f[e].style.transform="rotate(240deg)";document.querySelector("#circle_background").style.transform="rotate(-240deg)",document.querySelector(".content0").style.opacity="0",document.querySelector(".content1").style.opacity="1",document.querySelector(".circle0").style.height="120px",document.querySelector(".circle0").style.width="120px",document.querySelector(".circle1").style.height="160px",document.querySelector(".circle1").style.width="160px",document.querySelector(".count_live").innerHTML="3"}function s(){document.querySelector("#circle_background").animate([{transform:"rotate(-240deg)"},{transform:"rotate(-300deg)"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle1").animate([{width:"160px",height:"160px"},{width:"120px",height:"120px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle2").animate([{width:"120px",height:"120px"},{width:"160px",height:"160px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content1").animate([{opacity:1},{opacity:0},{opacity:0}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content2").animate([{opacity:0},{opacity:0},{opacity:1}],{easing:"ease",duration:750,iterations:1});for(var e=0;e<f.length;e++)f[e].animate([{transform:"rotate(240deg)"},{transform:"rotate(300deg)"}],{easing:"ease",duration:750,iterations:1}),f[e].style.transform="rotate(300deg)";document.querySelector("#circle_background").style.transform="rotate(-300deg)",document.querySelector(".content1").style.opacity="0",document.querySelector(".content2").style.opacity="1",document.querySelector(".circle1").style.height="120px",document.querySelector(".circle1").style.width="120px",document.querySelector(".circle2").style.height="160px",document.querySelector(".circle2").style.width="160px",document.querySelector(".count_live").innerHTML="2"}function y(){document.querySelector("#circle_background").animate([{transform:"rotate(-300deg)"},{transform:"rotate(-360deg)"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle2").animate([{width:"160px",height:"160px"},{width:"120px",height:"120px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".circle3").animate([{width:"120px",height:"120px"},{width:"160px",height:"160px"}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content2").animate([{opacity:1},{opacity:0},{opacity:0}],{easing:"ease",duration:750,iterations:1}),document.querySelector(".content3").animate([{opacity:0},{opacity:0},{opacity:1}],{easing:"ease",duration:750,iterations:1});for(var e=0;e<f.length;e++)f[e].animate([{transform:"rotate(300deg)"},{transform:"rotate(360deg)"}],{easing:"ease",duration:750,iterations:1}),f[e].style.transform="rotate(360deg)";document.querySelector("#circle_background").style.transform="rotate(-360deg)",document.querySelector(".content2").style.opacity="0",document.querySelector(".content3").style.opacity="1",document.querySelector(".circle2").style.height="120px",document.querySelector(".circle2").style.width="120px",document.querySelector(".circle3").style.height="160px",document.querySelector(".circle3").style.width="160px",document.querySelector(".count_live").innerHTML="1"}function m(e){e.preventDefault(),e.stopPropagation(),w.check(e)!==!1&&(_||(_=!_,1==w.check(e)?(v-=1,console.log(v),2==v?i():3==v?n():4==v?a():5==v?o():6==v?r():0==v?(t(),v=7):(t(),v=7)):w.check(e)==-1&&(v+=1,console.log(v),2==v?y():3==v?c():4==v?u():5==v?d():6==v?l():7==v?s():8==v?(y(),v=2):(s(),v=1)),setTimeout(function(){_=!1},500)))}function g(e){switch(e.keyCode){case 38:v-=1,console.log(v),2==v?i():3==v?n():4==v?a():5==v?o():6==v?r():0==v?(t(),v=7):(t(),v=7);break;case 40:v+=1,console.log(v),2==v?y():3==v?c():4==v?u():5==v?d():6==v?l():7==v?s():8==v?(y(),v=2):(s(),v=1)}}for(var p=0;p<=e.length-1;++p){var h=document.createElement("div");h.className="div_circle circle"+p,h.style.position="absolute",h.style.backgroundImage="url('"+e[p].image+"')";var x=Math.sin(div*p*(Math.PI/180))*radius,S=Math.cos(div*p*(Math.PI/180))*radius;h.style.top=(x+totalOffset).toString()+"px",h.style.left=(S+totalOffset).toString()+"px",circle_div.appendChild(h);var q=document.createElement("div");q.className="content content"+p,$name=document.createElement("h2"),$name.className="content-name",name=e[p].name,$name.innerText=name,$extract=document.createElement("p"),$extract.className="content-extract",extract=e[p].extract,extract=excerpt(extract),$extract.innerText=extract,$age=document.createElement("div"),$age.className="Age",$age_text=document.createElement("p"),$age_text.className="age-text",$age_text.innerText="age : ",$age_data=document.createElement("p"),$age_data.className="age-data",$age_data.innerText=e[p].age,$age.appendChild($age_text),$age.appendChild($age_data),$nationality=document.createElement("div"),$nationality.className="Nationality",$nationality_text=document.createElement("p"),$nationality_text.className="nationality-text",$nationality_text.innerText="nationality : ",$nationality_data=document.createElement("p"),$nationality_data.className="nationality-data",$nationality_data.innerText=e[p].nationality,$nationality.appendChild($nationality_text),$nationality.appendChild($nationality_data),q.appendChild($name),q.appendChild($extract),q.appendChild($nationality),q.appendChild($age),parent.appendChild(q)}var f=document.querySelectorAll(".div_circle"),w=new Lethargy,_=!1,v=2,k=document.querySelector(".team-area");k.addEventListener("mousewheel",function(e){m(e)},!1),k.addEventListener("DOMMouseScroll",function(e){m(e)},!1),window.addEventListener("keydown",g,!1);var $=document.querySelector(".button-up");$.addEventListener("click",function(){v-=1,console.log(v),2==v?i():3==v?n():4==v?a():5==v?o():6==v?r():0==v?(t(),v=7):(t(),v=7)});var b=document.querySelector(".button-down");b.addEventListener("click",function(){v+=1,console.log(v),2==v?y():3==v?c():4==v?u():5==v?d():6==v?l():7==v?s():8==v?(y(),v=2):(s(),v=1)})})});